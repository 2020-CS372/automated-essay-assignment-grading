Figure 7. Behavior specifications of Tobotool motion controller.
 This controller is used to dynamically coordinate 3-axis motion with given algorithms and computed federate based on sensed forces.   The reusable components include control algorithms, phys-ical device drivers and subsystems.  Some high-level compo-nents used in the Mobile motion controller are: z AxisGroup: receives a process model form the user  or predefined control programs, and coordinates the motion of the three axes by sending them the corresponding set points. z Axis: receives set points from AxisGroup and sends  out the drive signal to the physical device according  to the selected control algorithm (PID or FUZZY). z G-code Translator: translates a G-code program into a control plan. z Force Supervisory: calculates the federate for Ax- isGroup at runtime.  Figure  6 shows the corresponding software structure.  Figure 6. The structure of the Mobile motion  control software The test application on the Mobile is a sequence of milling operations.  The integrated behavior of the Mobile controller software consists of FSMs of Axis and AxisGroup components, and a G-code program for operation sequences.  A higher-level motion control FSM is developed to specify the overall machine-level control logic.  Figure 7 shows the control logic of each component and  Figure 8 shows the de- sired operations. Reconfiguration to include broken tool detection.  A broken tool detection algorithm is then developed and  integrated into the motion controller to evaluate the reconfigurability of the software.  A broken tool detection algorithm         is developed separately and implemented as an individual component.  The function of the broken tool detection component is to detect abnormal forces at runtime, and send   a stop signal to the motion controller when such a force is observed.  The software structure with  the broken tool detection algorithm is shown in Figure 9.  Figure 7. Behavior specifications of Tobotool motion controller.   Proceedings of the Fourth Annual ACIS International Conference on Computer and Information Science (ICISâ€™05)  0-7695-2296-3/05 $20. 

